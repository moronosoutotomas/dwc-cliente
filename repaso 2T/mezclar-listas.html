<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mezclar listas</title>
  <style>
    html {
      font-family: system-ui;
      background-color: lightblue;
    }

    body {
      padding: 1em 2em;
    }
  </style>
</head>

<body>

  <script>
    const body = document.body;

    // reloj kinétiko HH:MM:SS
    function peluco() {
      let date = new Date();
      p.textContent = `Hora actual: ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}:${date.getSeconds().toString().padStart(2, '0')}`;
      body.appendChild(p);
    }

    let p = document.createElement('p');
    //setInterval(peluco, 1000);


    // formulario dinámico
    function mostrarForm() {
      // h3
      let titulo = document.createElement('h3');
      titulo.textContent = 'Mezcla de listas';
      body.appendChild(titulo);

      // label 1
      let label1 = document.createElement('label');
      label1.textContent = 'Primera lista: ';
      body.appendChild(label1);
      // input 1ª lista
      let input1 = document.createElement('input');
      input1.setAttribute('type', 'text');
      input1.setAttribute('id', 'input1');
      body.appendChild(input1);
      // select 1ª lista
      let select1 = document.createElement('select');
      select1.setAttribute('id', 'select1');
      // options select 1
      let option1 = document.createElement('option');
      option1.textContent = '3';
      option1.setAttribute('value', '3');
      let option2 = document.createElement('option');
      option2.textContent = '5';
      option2.setAttribute('value', '5');
      select1.appendChild(option1);
      select1.appendChild(option2);
      body.appendChild(select1);
      body.appendChild(document.createElement('br')); // otro br
      body.appendChild(document.createElement('br')); // otro br

      // label 2
      let label2 = document.createElement('label');
      label2.textContent = 'Segunda lista: ';
      body.appendChild(label2);
      // input 2ª lista
      let input2 = document.createElement('input');
      input2.setAttribute('type', 'text');
      input2.setAttribute('id', 'input2');
      body.appendChild(input2);
      // select 2ª lista
      let select2 = document.createElement('select');
      select2.setAttribute('id', 'select2');
      body.appendChild(select2);
      // options select 1
      let option3 = document.createElement('option');
      option3.textContent = '5';
      option3.setAttribute('value', '5');
      let option4 = document.createElement('option');
      option4.textContent = '7';
      option4.setAttribute('value', '7');
      select2.appendChild(option3);
      select2.appendChild(option4);
      body.appendChild(select2);

      body.appendChild(document.createElement('br')); // otro br
      body.appendChild(document.createElement('br')); // otro br

      // boton mezclar
      let mezclar = document.createElement('input');
      mezclar.setAttribute('type', 'submit');
      mezclar.setAttribute('value', 'Enviar');
      mezclar.setAttribute('onclick', 'procesarArrays()');
      body.appendChild(mezclar);
      // boton reiniciar
      let reiniciar = document.createElement('input');
      reiniciar.setAttribute('type', 'reset');
      reiniciar.setAttribute('value', 'Reiniciar');
      body.appendChild(reiniciar);

      body.appendChild(document.createElement('br')); // otro br
      body.appendChild(document.createElement('br')); // otro br
    }

    mostrarForm();

    // check tamaño arrays
    let p2 = document.createElement('p');
    function procesarArrays() {

      // listas de números
      let arr1 = document.getElementById('input1').value.split(',');
      let arr2 = document.getElementById('input2').value.split(',');

      // longitud de las listas
      let arr1Length = document.getElementById('select1').value;
      let arr2Length = document.getElementById('select2').value;

      // comprobamos que la longitud coincide
      if (arr1.length != arr1Length) {
        alert('La primera lista NO ES igual al tamaño seleccionado');
      } else if (arr2.length != arr2Length) {
        alert('La segunda lista NO ES igual al tamaño seleccionado');
      }

      // creamos una variable que siempre tenga la longitud del array mayor y un
      // nuevo array para almacenar la lista mezclada
      const listaLarga = (arr1.length >= arr2.length) ? arr1.length : arr2.length;
      let arrFinal = [];

      // mezclamos las listas
      for (let i = 0; i < listaLarga; i++) {
        if (arr1[i] !== undefined) {
          arrFinal.push(arr1[i]);
        }

        if (arr2[i] !== undefined) {
          arrFinal.push(arr2[i]);
        }
      }

      p2.textContent = `Resultado: ${arrFinal}`;
    }
    body.appendChild(p2);


  </script>
</body>

</html>