<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ejercicio custom con Promises</title>
  <style>
    html {
      font-family: sans-serif;
      background-color: lightblue;
    }
  </style>
</head>

<body>
  <!-- 
  
  - Tendrá interfaz HTML (botones, inputs, etc).
  - Procesamiento asíncrono (con Promises y usando then, catch y finally).
  - Se puede usar fetch y XHR pero tiene que haber alguna Promise.
  - Salida de datos "real" (nada de consola, que vaya a un textbox o así).

  -->

  <h1>Ejercicio custom con Promises</h1>
  <div id="container"></div>
  <script>
    // https://jsonplaceholder.typicode.com/posts

    // IDEA: traer datos del enlace, parsearlos, hacer un shuffle y formatearlos
    // como un TL creando los nombres de usuario formato `Usuario ${userId}`
    // coloreados en grupos de 20 (así al mezclarlos saldrán desordenados).

    async function traerDatos() {
      const datos = await fetch('https://jsonplaceholder.typicode.com/posts')
        .then(response => response.json());
    }

    // Fisher-Yates shuffle
    // https://bost.ocks.org/mike/shuffle/
    function shuffle(array) {
      var m = array.length, t, i;

      // While there remain elements to shuffle…
      while (m) {

        // Pick a remaining element…
        i = Math.floor(Math.random() * m--);

        // And swap it with the current element.
        t = array[m];
        array[m] = array[i];
        array[i] = t;
      }

      return array;
    }

    function ejecucion() {
      return new Promise((resolve, reject) => {
        let datos = traerDatos();
        setTimeout(() => {
          datosBarajados = shuffle(datos);
          console.log(datos);
        }, 1000);
      });
    }

    ejecucion();






  </script>
</body>

</html>